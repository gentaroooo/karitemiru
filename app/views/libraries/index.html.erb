<% content_for(:title, t('.title')) %>
<div class="container">
    <div class="row row-cols-1 row-cols-md-2 p-2 text-center">
        <% if @library.present? %>
            <h5 class="text-info p-3"><%= "登録しているエリアは#{@library.name}です" %></h5> 
             <div class="card m-2">
                <div class="card-body">
                    <h5>
                        <%= link_to edit_library_path(@library), class: "button-edit-#{@library.id}" do %>
                            エリアを変更する<%= icon 'fa', 'pen' %>
                        <% end %>
                    </h5>
                    <h5 class="text-secondary">現在地を取得して近隣のエリアを再び選択できます</h5>
                </div>
            </div> 
            <div class="card m-2">
                <div class="card-body">
                    <h5>
                        <%= link_to library_path(@library), id: "button-delete-#{@library.id}", method: :delete, data: { confirm: t('defaults.message.delete_confirm') } do %>
                             エリアを削除する<%= icon 'fas', 'trash' %>
                        <% end %>
                    </h5>
                    <h5 class="text-secondary">登録した図書館エリアを削除します</h5>
                </div>
            </div> 
        <% else %>
            <div class="center">
                <h5 class="text-secondary m-3">現在地を取得すると近郊のエリアが表示されます</h5>
                <h1><%= link_to "現在地を取得する", libraries_path, remote: true, class: 'btn btn-danger btn-lg m-2' %></h1>
                <div id="parent">
                    <p class="library"></p>
                </div>
                
                <h5 class="text-secondary m-3">住所を入力してエリア登録をする</h5>
                <%= form_with url: libraries_path, local: true, method: :get do |f| %>
                    <div class="mb-4">
                    <%= f.text_area :location, class: 'form-control', rows: 5, placeholder: 'エリアのキーワードを入力', value: params[:location] %>
                    </div>
                    <%= f.submit class: 'btn btn-success' %>
                <% end %>          
            </div>
        <% end %>
    </div>
</div>
